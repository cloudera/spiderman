question,sql
How many residents does each property have? List property id and resident count.,"SELECT `t1`.`property_id`, COUNT(*) FROM `Properties` AS `t1` JOIN `Residents` AS `t2` ON `t1`.`property_id` = `t2`.`property_id` GROUP BY `t1`.`property_id`"
What is the distinct service types that are provided by the organization which has detail 'Denesik and Sons Party'?,SELECT DISTINCT `t1`.`service_type_code` FROM `Services` AS `t1` JOIN `Organizations` AS `t2` ON `t1`.`organization_id` = `t2`.`organization_id` WHERE `t2`.`organization_details` = 'Denesik and Sons Party'
"How many services has each resident requested? List the resident id, details, and the count in descending order of the count.","SELECT `t1`.`resident_id`, `t1`.`other_details`, COUNT(*) FROM `Residents` AS `t1` JOIN `Residents_Services` AS `t2` ON `t1`.`resident_id` = `t2`.`resident_id` GROUP BY `t1`.`resident_id`, `t1`.`other_details` ORDER BY COUNT(*) DESC"
"What is the maximum number that a certain service is provided? List the service id, details and number.","SELECT `t1`.`service_id`, `t1`.`service_details`, COUNT(*) FROM `Services` AS `t1` JOIN `Residents_Services` AS `t2` ON `t1`.`service_id` = `t2`.`service_id` GROUP BY `t1`.`service_id`, `t1`.`service_details` ORDER BY COUNT(*) DESC LIMIT 1"
"List the id and type of each thing, and the details of the organization that owns it.","SELECT `t1`.`thing_id`, `t1`.`type_of_Thing_Code`, `t2`.`organization_details` FROM `Things` AS `t1` JOIN `Organizations` AS `t2` ON `t1`.`organization_id` = `t2`.`organization_id`"
What are the id and details of the customers who have at least 3 events?,"SELECT `t1`.`customer_id`, `t1`.`customer_details` FROM `Customers` AS `t1` JOIN `Customer_Events` AS `t2` ON `t1`.`customer_id` = `t2`.`customer_id` GROUP BY `t1`.`customer_id`, `t1`.`customer_details` HAVING COUNT(*) >= 3"
"What is each customer's move in date, and the corresponding customer id and details?","SELECT `t2`.`date_moved_in`, `t1`.`customer_id`, `t1`.`customer_details` FROM `Customers` AS `t1` JOIN `Customer_Events` AS `t2` ON `t1`.`customer_id` = `t2`.`customer_id`"
Which events have the number of notes between one and three? List the event id and the property id.,"SELECT `t1`.`Customer_Event_ID`, `t1`.`property_id` FROM `Customer_Events` AS `t1` JOIN `Customer_Event_Notes` AS `t2` ON `t1`.`Customer_Event_ID` = `t2`.`Customer_Event_ID` GROUP BY `t1`.`Customer_Event_ID`, `t1`.`property_id` HAVING COUNT(*) BETWEEN 1 AND 3"
What are the distinct id and type of the thing that has the status 'Close' or has a status record before the date '2017-06-19 02:59:21',"SELECT DISTINCT `t2`.`thing_id`, `t2`.`Type_of_Thing_Code` FROM `Timed_Status_of_Things` AS `t1` JOIN `Things` AS `t2` ON `t1`.`thing_id` = `t2`.`thing_id` WHERE `t1`.`Status_of_Thing_Code` = 'Close' OR `t1`.`Date_and_Date` < '2017-06-19 02:59:21'"
How many distinct locations have the things with service detail 'Unsatisfied' been located in?,SELECT COUNT(DISTINCT `t2`.`Location_Code`) FROM `Things` AS `t1` JOIN `Timed_Locations_of_Things` AS `t2` ON `t1`.`thing_id` = `t2`.`thing_id` WHERE `t1`.`service_details` = 'Unsatisfied'
How many different status codes of things are there?,SELECT COUNT(DISTINCT `Status_of_Thing_Code`) FROM `Timed_Status_of_Things`
Which organizations are not a parent organization of others? List the organization id.,SELECT `organization_id` FROM `Organizations` EXCEPT SELECT `parent_organization_id` FROM `Organizations`
When is the last day any resident moved in?,SELECT MAX(`date_moved_in`) FROM `Residents`
What are the resident details containing the substring 'Miss'?,SELECT `other_details` FROM `Residents` WHERE `other_details` LIKE '%Miss%'
List the customer event id and the corresponding move in date and property id.,"SELECT `customer_event_id`, `date_moved_in`, `property_id` FROM `Customer_Events`"
How many customers did not have any event?,SELECT COUNT(*) FROM `Customers` WHERE NOT `customer_id` IN (SELECT `customer_id` FROM `Customer_Events`)
What are the distinct move in dates of the residents?,SELECT DISTINCT `date_moved_in` FROM `Residents`
