-- Dialect: MySQL | Database: hr_1 | Table Count: 7

CREATE DATABASE IF NOT EXISTS `hr_1`;

DROP TABLE IF EXISTS `hr_1`.`regions`;
CREATE TABLE `hr_1`.`regions` (
    `REGION_ID` INT NOT NULL,
    `REGION_NAME` VARCHAR(25) DEFAULT NULL,
    PRIMARY KEY (`REGION_ID`)
);

DROP TABLE IF EXISTS `hr_1`.`countries`;
CREATE TABLE `hr_1`.`countries` (
    `COUNTRY_ID` VARCHAR(2) NOT NULL,
    `COUNTRY_NAME` VARCHAR(40) DEFAULT NULL,
    `REGION_ID` INT DEFAULT NULL,
    PRIMARY KEY (`COUNTRY_ID`),
    FOREIGN KEY (`REGION_ID`) REFERENCES `hr_1`.`regions` (`REGION_ID`)
);

DROP TABLE IF EXISTS `hr_1`.`departments`;
CREATE TABLE `hr_1`.`departments` (
    `DEPARTMENT_ID` DECIMAL(4,0) NOT NULL,
    `DEPARTMENT_NAME` VARCHAR(30) NOT NULL,
    `MANAGER_ID` DECIMAL(6,0) DEFAULT NULL,
    `LOCATION_ID` DECIMAL(4,0) DEFAULT NULL,
    PRIMARY KEY (`DEPARTMENT_ID`)
);

DROP TABLE IF EXISTS `hr_1`.`jobs`;
CREATE TABLE `hr_1`.`jobs` (
    `JOB_ID` VARCHAR(10) NOT NULL,
    `JOB_TITLE` VARCHAR(35) NOT NULL,
    `MIN_SALARY` DECIMAL(6,0) DEFAULT NULL,
    `MAX_SALARY` DECIMAL(6,0) DEFAULT NULL,
    PRIMARY KEY (`JOB_ID`)
);

DROP TABLE IF EXISTS `hr_1`.`employees`;
CREATE TABLE `hr_1`.`employees` (
    `EMPLOYEE_ID` DECIMAL(6,0) NOT NULL,
    `FIRST_NAME` VARCHAR(20) DEFAULT NULL,
    `LAST_NAME` VARCHAR(25) NOT NULL,
    `EMAIL` VARCHAR(25) NOT NULL,
    `PHONE_NUMBER` VARCHAR(20) DEFAULT NULL,
    `HIRE_DATE` DATE NOT NULL,
    `JOB_ID` VARCHAR(10) NOT NULL,
    `SALARY` DECIMAL(8,2) DEFAULT NULL,
    `COMMISSION_PCT` DECIMAL(2,2) DEFAULT NULL,
    `MANAGER_ID` DECIMAL(6,0) DEFAULT NULL,
    `DEPARTMENT_ID` DECIMAL(4,0) DEFAULT NULL,
    PRIMARY KEY (`EMPLOYEE_ID`),
    FOREIGN KEY (`JOB_ID`) REFERENCES `hr_1`.`jobs` (`JOB_ID`),
    FOREIGN KEY (`DEPARTMENT_ID`) REFERENCES `hr_1`.`departments` (`DEPARTMENT_ID`)
);

DROP TABLE IF EXISTS `hr_1`.`job_history`;
CREATE TABLE `hr_1`.`job_history` (
    `EMPLOYEE_ID` DECIMAL(6,0) NOT NULL,
    `START_DATE` DATE NOT NULL,
    `END_DATE` DATE NOT NULL,
    `JOB_ID` VARCHAR(10) NOT NULL,
    `DEPARTMENT_ID` DECIMAL(4,0) DEFAULT NULL,
    PRIMARY KEY (`EMPLOYEE_ID`, `START_DATE`),
    FOREIGN KEY (`JOB_ID`) REFERENCES `hr_1`.`jobs` (`JOB_ID`),
    FOREIGN KEY (`DEPARTMENT_ID`) REFERENCES `hr_1`.`departments` (`DEPARTMENT_ID`),
    FOREIGN KEY (`EMPLOYEE_ID`) REFERENCES `hr_1`.`employees` (`EMPLOYEE_ID`)
);

DROP TABLE IF EXISTS `hr_1`.`locations`;
CREATE TABLE `hr_1`.`locations` (
    `LOCATION_ID` DECIMAL(4,0) NOT NULL,
    `STREET_ADDRESS` VARCHAR(40) DEFAULT NULL,
    `POSTAL_CODE` VARCHAR(12) DEFAULT NULL,
    `CITY` VARCHAR(30) NOT NULL,
    `STATE_PROVINCE` VARCHAR(25) DEFAULT NULL,
    `COUNTRY_ID` VARCHAR(2) DEFAULT NULL,
    PRIMARY KEY (`LOCATION_ID`),
    FOREIGN KEY (`COUNTRY_ID`) REFERENCES `hr_1`.`countries` (`COUNTRY_ID`)
);
